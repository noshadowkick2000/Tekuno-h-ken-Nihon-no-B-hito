derived_states are states which have set states which they can transition into
non_derived_states are states which can be transitioned into from any state
